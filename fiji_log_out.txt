
STARTED TESTING THE 4 MODELS WITH DEEPIMAGEJ IN FIJI AT 2023-03-06T11:09:02.198815

Logs are in: /home/runner/work/CI-deepimagej-bioimage-io/CI-deepimagej-bioimage-io/java_CI_scripts/../test_summaries/fiji_log_out.txt and fiji_log_err.txt


- MODEL 1/4

-- script 1/2: TESTING WITH DEEPIMAGEJ HEADLESS

   The folder is: /home/runner/work/CI-deepimagej-bioimage-io/CI-deepimagej-bioimage-io/java_CI_scripts/../models/10.5281/zenodo.6200999/6538911
--
-- Started testing model: conscientious-seashell
   Name: HPA Nucleus Segmentation (DPNUnet)
[DEBUG] Processing image: sample_input_0.tif
[DEBUG] Loading model
Loading:     100% |████████████████████████████████████████|
Downloading https://publish.djl.ai/pytorch-1.9.1/cpu/linux/native/lib/libgomp-52f2fd74.so.1.gz ...
Downloading https://publish.djl.ai/pytorch-1.9.1/cpu/linux/native/lib/libtorch_cpu.so.gz ...
Downloading https://publish.djl.ai/pytorch-1.9.1/cpu/linux/native/lib/libtorch.so.gz ...
Downloading https://publish.djl.ai/pytorch-1.9.1/cpu/linux/native/lib/libc10.so.gz ...
Extracting /jnilib/linux-x86_64/cpu/libdjl_torch.so to cache ...
Number of inter-op threads is 1
Number of intra-op threads is 2
[DEBUG] Image name: sample_input_0.tif
[DEBUG] Start pre-processing
[DEBUG] Run Macro pre-processing
Error during Macro preprocessing.
[DEBUG] Error during Macro preprocessing.
Error during the aplication of the model.
java.lang.NullPointerException
	at deepimagej.tools.StartTensorflowService.closeTfService(StartTensorflowService.java:90)
	at DeepImageJ_Run.freeIJMemory(DeepImageJ_Run.java:1084)
	at DeepImageJ_Run.run(DeepImageJ_Run.java:268)
	at ij.IJ.runUserPlugIn(IJ.java:237)
	at ij.IJ.runPlugIn(IJ.java:203)
	at ij.Executer.runCommand(Executer.java:152)
	at ij.Executer.run(Executer.java:70)
	at ij.IJ.run(IJ.java:319)
	at ij.IJ.run(IJ.java:409)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at clojure.lang.Reflector.invokeMatchingMethod(Reflector.java:93)
	at clojure.lang.Reflector.invokeStaticMethod(Reflector.java:207)
	at reproduce.test_1_with_deepimagej$test_one_with_deepimagej$fn__31.invoke(NO_SOURCE_FILE:0)
	at reproduce.test_1_with_deepimagej$test_one_with_deepimagej.invokeStatic(NO_SOURCE_FILE:0)
	at reproduce.test_1_with_deepimagej$test_one_with_deepimagej.invoke(NO_SOURCE_FILE:0)
	at reproduce.test_1_with_deepimagej$test_one_with_deepimagej__AMPERSAND__info.invokeStatic(NO_SOURCE_FILE:0)
	at reproduce.test_1_with_deepimagej$test_one_with_deepimagej__AMPERSAND__info.invoke(NO_SOURCE_FILE:0)
	at reproduce.test_1_with_deepimagej$_main.invokeStatic(NO_SOURCE_FILE:0)
	at reproduce.test_1_with_deepimagej$_main.doInvoke(NO_SOURCE_FILE:0)
	at clojure.lang.RestFn.invoke(RestFn.java:397)
	at reproduce.test_1_with_deepimagej$eval53.invokeStatic(NO_SOURCE_FILE:0)
	at reproduce.test_1_with_deepimagej$eval53.invoke(NO_SOURCE_FILE)
	at clojure.lang.Compiler.eval(Compiler.java:6927)
	at clojure.lang.Compiler.eval(Compiler.java:6890)
	at org.scijava.plugins.scripting.clojure.ClojureScriptEngine.eval(ClojureScriptEngine.java:88)
	at org.scijava.plugins.scripting.clojure.ClojureScriptEngine.eval(ClojureScriptEngine.java:63)
	at org.scijava.script.ScriptModule.run(ScriptModule.java:164)
	at org.scijava.module.ModuleRunner.run(ModuleRunner.java:163)
	at org.scijava.module.ModuleRunner.call(ModuleRunner.java:124)
	at org.scijava.module.ModuleRunner.call(ModuleRunner.java:63)
	at org.scijava.thread.DefaultThreadService.lambda$wrap$2(DefaultThreadService.java:225)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)

There are no images open
-- script 2/2: COMPARING TO EXPECTED OUTPUT

   The folder is: /home/runner/work/CI-deepimagej-bioimage-io/CI-deepimagej-bioimage-io/java_CI_scripts/../models/10.5281/zenodo.6200999/6538911
   Run did not produce output
   Empty metrics file written in: /home/runner/work/CI-deepimagej-bioimage-io/CI-deepimagej-bioimage-io/java_CI_scripts/../models/10.5281/zenodo.6200999/6538911/output_metrics.edn
- MODEL 2/4

-- script 1/2: TESTING WITH DEEPIMAGEJ HEADLESS

   The folder is: /home/runner/work/CI-deepimagej-bioimage-io/CI-deepimagej-bioimage-io/java_CI_scripts/../models/10.5281/zenodo.6338614/6338615
--
-- Started testing model: chatty-frog
   Name: StarDist H&E Nuclei Segmentation
[DEBUG] Processing image: sample_input_0.tif
[INFO] No TF library found in /home/runner/blank_fiji/Fiji.app/lib/.
[DEBUG] Loading model
[DEBUG] Image name: sample_input_0.tif
[DEBUG] Start pre-processing
[DEBUG] Run Macro pre-processing
Percentile normalization to the axes: xy
with min_percentile: 0.01
and max_percentile: 0.998
[DEBUG] End pre-processing
[DEBUG] Running inference on the tensors
[DEBUG] (Tensorflow) Patch 1/6
[DEBUG] (Tensorflow) Patch 2/6
[DEBUG] (Tensorflow) Patch 3/6
[DEBUG] (Tensorflow) Patch 4/6
[DEBUG] (Tensorflow) Patch 5/6
[DEBUG] (Tensorflow) Patch 6/6
[DEBUG] Start post-processing 
[DEBUG] End post-processing 
[DEBUG] Close all the inputs except the input image
[DEBUG] Open images at the end of the execution:
 - StarDist H&E Nuclei Segmentation_output_sample_input_0
[DEBUG] Execution of model 'StarDist H&E Nuclei Segmentation' completed.
[DEBUG] Close Tensorflow services
[DEBUG] End execution
   Time taken: PT16.659S
-- Finished testing model: chatty-frog
-- script 2/2: COMPARING TO EXPECTED OUTPUT

   The folder is: /home/runner/work/CI-deepimagej-bioimage-io/CI-deepimagej-bioimage-io/java_CI_scripts/../models/10.5281/zenodo.6338614/6338615
   The MSE (relative) is 0.871869685986
   The MAE (relative) is 0.347544945117
   The max_val is 35.1791687012
   Metrics file written in: /home/runner/work/CI-deepimagej-bioimage-io/CI-deepimagej-bioimage-io/java_CI_scripts/../models/10.5281/zenodo.6338614/6338615/output_metrics.edn
- MODEL 3/4

-- script 1/2: TESTING WITH DEEPIMAGEJ HEADLESS

   The folder is: /home/runner/work/CI-deepimagej-bioimage-io/CI-deepimagej-bioimage-io/java_CI_scripts/../models/10.5281/zenodo.6406756/6811922
--
-- Started testing model: hiding-blowfish
   Name: EnhancerMitochondriaEM2D
[DEBUG] Processing image: sample_input_0.tif
[DEBUG] Loading model
Loading:     100% |████████████████████████████████████████|
Number of inter-op threads is 1
Number of intra-op threads is 2
[DEBUG] Image name: sample_input_0.tif
[DEBUG] Start pre-processing
[DEBUG] Run Macro pre-processing
Percentile normalization to the axes: xy
with min_percentile: 0.01
and max_percentile: 1
[DEBUG] End pre-processing
[DEBUG] Running inference on the tensors
[DEBUG] (Pytorch) Patch 1/4
[DEBUG] (Pytorch) Patch 2/4
[DEBUG] (Pytorch) Patch 3/4
[DEBUG] (Pytorch) Patch 4/4
[DEBUG] Start post-processing 
[DEBUG] End post-processing 
[DEBUG] Close all the inputs except the input image
[DEBUG] Open images at the end of the execution:
 - EnhancerMitochondriaEM2D_output0_sample_input_0
[DEBUG] Execution of model 'EnhancerMitochondriaEM2D' completed.
java.lang.NullPointerException
	at deepimagej.tools.StartTensorflowService.closeTfService(StartTensorflowService.java:90)
	at DeepImageJ_Run.freeIJMemory(DeepImageJ_Run.java:1084)
	at DeepImageJ_Run.run(DeepImageJ_Run.java:268)
	at ij.IJ.runUserPlugIn(IJ.java:237)
	at ij.IJ.runPlugIn(IJ.java:203)
	at ij.Executer.runCommand(Executer.java:152)
	at ij.Executer.run(Executer.java:70)
	at ij.IJ.run(IJ.java:319)
	at ij.IJ.run(IJ.java:409)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at clojure.lang.Reflector.invokeMatchingMethod(Reflector.java:93)
	at clojure.lang.Reflector.invokeStaticMethod(Reflector.java:207)
	at reproduce.test_1_with_deepimagej$test_one_with_deepimagej$fn__31.invoke(NO_SOURCE_FILE:0)
	at reproduce.test_1_with_deepimagej$test_one_with_deepimagej.invokeStatic(NO_SOURCE_FILE:0)
	at reproduce.test_1_with_deepimagej$test_one_with_deepimagej.invoke(NO_SOURCE_FILE:0)
	at reproduce.test_1_with_deepimagej$test_one_with_deepimagej__AMPERSAND__info.invokeStatic(NO_SOURCE_FILE:0)
	at reproduce.test_1_with_deepimagej$test_one_with_deepimagej__AMPERSAND__info.invoke(NO_SOURCE_FILE:0)
	at reproduce.test_1_with_deepimagej$_main.invokeStatic(NO_SOURCE_FILE:0)
	at reproduce.test_1_with_deepimagej$_main.doInvoke(NO_SOURCE_FILE:0)
	at clojure.lang.RestFn.invoke(RestFn.java:397)
	at reproduce.test_1_with_deepimagej$eval53.invokeStatic(NO_SOURCE_FILE:0)
	at reproduce.test_1_with_deepimagej$eval53.invoke(NO_SOURCE_FILE)
	at clojure.lang.Compiler.eval(Compiler.java:6927)
	at clojure.lang.Compiler.eval(Compiler.java:6890)
	at org.scijava.plugins.scripting.clojure.ClojureScriptEngine.eval(ClojureScriptEngine.java:88)
	at org.scijava.plugins.scripting.clojure.ClojureScriptEngine.eval(ClojureScriptEngine.java:63)
	at org.scijava.script.ScriptModule.run(ScriptModule.java:164)
	at org.scijava.module.ModuleRunner.run(ModuleRunner.java:163)
	at org.scijava.module.ModuleRunner.call(ModuleRunner.java:124)
	at org.scijava.module.ModuleRunner.call(ModuleRunner.java:63)
	at org.scijava.thread.DefaultThreadService.lambda$wrap$2(DefaultThreadService.java:225)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)

   Time taken: PT22.634S
-- Finished testing model: hiding-blowfish
-- script 2/2: COMPARING TO EXPECTED OUTPUT

   The folder is: /home/runner/work/CI-deepimagej-bioimage-io/CI-deepimagej-bioimage-io/java_CI_scripts/../models/10.5281/zenodo.6406756/6811922
   The MSE (relative) is 0.00355372464281
   The MAE (relative) is 0.016168471335
   The max_val is 0.999995589256
   Metrics file written in: /home/runner/work/CI-deepimagej-bioimage-io/CI-deepimagej-bioimage-io/java_CI_scripts/../models/10.5281/zenodo.6406756/6811922/output_metrics.edn
- MODEL 4/4

-- script 1/2: TESTING WITH DEEPIMAGEJ HEADLESS

   The folder is: /home/runner/work/CI-deepimagej-bioimage-io/CI-deepimagej-bioimage-io/java_CI_scripts/../models/10.5281/zenodo.5749843/5888237
--
-- Started testing model: humorous-owl
   Name: Cell Segmentation from Membrane Staining for Plant Tissues
[DEBUG] Processing image: sample_input_0.tif
[INFO] No TF library found in /home/runner/blank_fiji/Fiji.app/lib/.
[DEBUG] Loading model
[DEBUG] Image name: sample_input_0.tif
[DEBUG] Start pre-processing
[DEBUG] Run Macro pre-processing
Percentile normalization to the axes: xyz
with min_percentile: 0
and max_percentile: 1
[DEBUG] End pre-processing
[DEBUG] Running inference on the tensors
[DEBUG] (Tensorflow) Patch 1/4
[DEBUG] (Tensorflow) Patch 2/4
[DEBUG] (Tensorflow) Patch 3/4
[DEBUG] (Tensorflow) Patch 4/4
[DEBUG] Start post-processing 
[DEBUG] Run Macro post-processing
[DEBUG] End post-processing 
[DEBUG] Close all the inputs except the input image
[DEBUG] Open images at the end of the execution:
 - Cell Segmentation from Membrane Staining for Plant Tissues_output_sample_input_0
[DEBUG] Execution of model 'Cell Segmentation from Membrane Staining for Plant Tissues' completed.
[DEBUG] Close Tensorflow services
[DEBUG] End execution
   Time taken: PT30.514S
-- Finished testing model: humorous-owl
-- script 2/2: COMPARING TO EXPECTED OUTPUT

   The folder is: /home/runner/work/CI-deepimagej-bioimage-io/CI-deepimagej-bioimage-io/java_CI_scripts/../models/10.5281/zenodo.5749843/5888237
   The MSE (relative) is 0.0
   The MAE (relative) is 0.0
   The max_val is 255.0
   Metrics file written in: /home/runner/work/CI-deepimagej-bioimage-io/CI-deepimagej-bioimage-io/java_CI_scripts/../models/10.5281/zenodo.5749843/5888237/output_metrics.edn

FINISHED TESTING THE 4 MODELS IN FIJI AT 2023-03-06T11:09:02.200359

 Logs are in: /home/runner/work/CI-deepimagej-bioimage-io/CI-deepimagej-bioimage-io/java_CI_scripts/../test_summaries/fiji_log_out.txt and fiji_log_err.txt


